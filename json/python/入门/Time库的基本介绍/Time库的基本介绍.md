### Time库的基本介绍

---

time库是Python中处理时间的标准库

-   计算机时间的表达

-   提供获取系统时间并格式化输出功能

-   提供系统及精确计时功能，用于程序性能分析

-   ``` python
    import time
    time.<b>()
    ```

time库包括三类函数

-   时间获取：time( ) ctime( ) gmtime( )
-   时间格式化：strftime( ) strptime( )
-   程序计时：sleep( ) per_counter( )



### 时间获取

---

|   函数   |                             描述                             |
| :------: | :----------------------------------------------------------: |
|  time()  | 获取当前的时间戳，即计算机内部时间值，浮点数<br />>>>time.time( ) |
| ctime()  | 获取当前时间并以易读方式表示，返回字符串<br />>>>time.citme() |
| gmtime() | 获取当前时间，表示为计算机可处理的时间格式<br />>>>time.gmtime() |



### 时间格式化

---

将时间以合理的方式展示出来

-   格式化：类似字符串格式化，需要有展示模板
-   展示模板由特定的格式化控制符组成
-   strftime( )

| 函数              | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| strftime(tpl,ts)  | tpl是格式化模板字符串，用来定义输出效果<br />ts是 计算机内部时间类型变量<br />>>>t = time.gmtime( )<br />>>>time.strftime("%Y-%m-%d %H:%M:%S",t) |
| strptime(str,tpl) | str是字符串形式的时间值<br />tpl是格式化模板字符串，用来定义输入效果 |

| 格式化字符串 | 日期/时间说明 |          值范围和实例          |
| :----------: | :-----------: | :----------------------------: |
|      %Y      |     年份      |      0000~9999,例如：1900      |
|      %m      |     月份      |        01~12，例如：10         |
|      %B      |   月份名称    |  January~December,例如:April   |
|      %b      | 月份名称缩写  |        Jan~Dec,例如:Apr        |
|      %d      |     日期      |         01~31.例如：25         |
|      %A      |     星期      | Monday~Sunday，例如：Wednesday |
|      %a      |   星期缩写    |       Mon~Sun，例如：Wed       |
|      %H      |  小时(24h制)  |        00~23，例如：12         |
|      %I      |  小时(12h制)  |         01~12，例如：7         |



### 程序计时应用

---

程序计时应用广泛

-   程序计时指测量起止动作所经历的时间的进程
-   测量时间：perf_counter()



| 函数         | 描述                                                         |
| ------------ | ------------------------------------------------------------ |
| perf_counter | 返回一个CPU级别的精确时间计数值，单位为秒<br />由于这个计数值起点不确定，连续调用取差值才有意义 |
| sleep(s)     | s拟休眠的时间，单位是秒，可以是浮点数                        |

​    

### 实例：文本进度条

---

文本进度条

-   采用字符串方式打印可以动态变化的文本进度条
-   进度条需要能在一行中逐渐变化
-   采用sleep()模拟一个持续的进度

``` python
#TextProBarV1.py
import time
scale = 10 #文本进度条的宽度
print("-----执行开始-----")
for i in range(scale + 1):
    a = '*' * i
    b = '.' * (scale - i)
    c = (i / scale) * 100
    print("{:^3.0f}%[{}->{}]".format(c, a, b))
    time.sleep(0.1)
print("-----执行结束-----")
```

单行动态刷新

-   刷新的本质是：用后打印的字符覆盖之前的字符

-   不能换行：print()需要被控制

-   要能回退：打印后光标退回到之前的位置  \r 

-   ```python
    #TextProBarV2.py
    import time
    for i in range(101):
        print("\r{:3}%".format(i), end=" ")
        time.sleep(0.05)
    ```

-   

