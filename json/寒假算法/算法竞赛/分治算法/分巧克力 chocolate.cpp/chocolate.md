## 寒假算法记录

---
![](https://img.imgdb.cn/item/6015518f3ffa7d37b3e6d410.jpg)

---

### 分巧克力 chocolate.cpp （2017年蓝桥杯初赛）
#### 题目描述：
> 儿童节那天有K位小朋友到小明家做客。小明拿出了珍藏的巧克力招待小朋友们。小明一共有N块巧克力，其中第i块是Hi x Wi的方格组成的长方形。
> 为了公平起见，小明需要从这 N 块巧克力中切出K块巧克力分给小朋友们。切出的巧克力需要满足：
> 
> 1. 形状是正方形，边长是整数  
> 
> 2. 大小相同  
> 
> 例如一块6x5的巧克力可以切出6块2x2的巧克力或者2块3x3的巧克力。当然小朋友们都希望得到的巧克力尽可能大，你能帮小Hi计算出最大的边长是多少么？ 
#### 输入格式：
> 第一行包含两个整数N和K。(1 <= N, K <= 100000)  
>以下N行每行包含两个整数Hi和Wi。(1 <= Hi, Wi <= 100000) 
>输入保证每位小朋友至少能获得一块1x1的巧克力。  
#### 输出格式：
>输出切出的正方形巧克力最大可能的边长。
#### 输入样例：
>2 10

>6 5

>5 6
#### 输出样例：
>2

---

#### _题目分析_：
1. 首先分析给定的数据，有两块巧克力，最终分成的是以2为边长的正方形。画图就可以很清楚的看出来是怎么分的，6*5的巧克力是每条边各切了两刀，分成的。推广一下，hi和wi是两条边长，他们同时除以一个相同的数n，结果再相乘，得到的就是可以分成以n为边长的正方形的个数。
2. 这道题目如果数据小一点的话就可以直接采用暴力枚举的办法来解决，从分成边长为1的正方形，再到分成边长为maxn的正方形，然后这样一个一个试，输出最后一个满足的边长即可。
3. 但是这里的n，d最大值为十万，n*d会超时。又由于是线性的，所以可以采用二分的办法来解决。
4. 注意的是这里要的是最大的满足的数，所以不能在第一个数满足的时候输出。


---

#### 代码：
``` cpp
#include<iostream>
#include<cstdio>
#include<cstdlib>
using namespace std;
const int MAXN = 100010;
int hi[MAXN], wi[MAXN];
int main()
{
    int n, k;
    cin >> n >> k;
    int l = 1, r = 100000;
    for (int i = 0; i < n; ++i)
    {
        cin >> hi[i] >> wi[i];
    }
    while (l <= r)
    {   
        int tmp = 0;
        int mid = (l + r) / 2;
        for (int i = 0; i < MAXN; ++i)
        {
            int tmph = hi[i] / mid;
            int tmpw = wi[i] / mid;
            tmp += (tmph * tmpw);
        }
        if (tmp < k) //mid在分母上，所以使n变大要往左取值
            r = mid - 1;
        else
            l = mid + 1;
    }
    cout << min(r, l) << endl;
    return 0;
}
```
---

参考：

[分巧克力](http://oj.ecustacm.cn/problem.php?id=1323)

